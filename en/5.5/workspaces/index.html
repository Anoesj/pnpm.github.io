<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Workspace · pnpm</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="pnpm has built-in support for monorepos (a.k.a. multi-package repositories,"/><meta name="docsearch:version" content="5.5"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Workspace · pnpm"/><meta property="og:type" content="website"/><meta property="og:url" content="https://pnpm.js.org/"/><meta property="og:description" content="pnpm has built-in support for monorepos (a.k.a. multi-package repositories,"/><meta property="og:image" content="https://pnpm.js.org/img/ogimage.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://pnpm.js.org/img/ogimage.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://pnpm.js.org/blog/atom.xml" title="pnpm Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://pnpm.js.org/blog/feed.xml" title="pnpm Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-91385296-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/pnpm-no-name-with-frame.svg" alt="pnpm"/><h2 class="headerTitleWithLogo">pnpm</h2></a><a href="/en/versions"><h3>5.5</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/en/5.5/motivation" target="_self">Docs</a></li><li class=""><a href="/en/5.5/faq" target="_self">FAQ</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Features</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/en/5.5/motivation">Motivation</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/installation">Installation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Usage<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/en/5.5/pnpm-cli">pnpm CLI</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/pnpx-cli">pnpx CLI</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/configuring">Configuring</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/filtering">Filtering</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CLI commands<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage dependencies</h4><ul><li class="navListItem"><a class="navItem" href="/en/5.5/cli/add">pnpm add &lt;pkg&gt;</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/install">pnpm install</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/update">pnpm update</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/remove">pnpm remove</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/link">pnpm link</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/unlink">pnpm unlink</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/import">pnpm import</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/rebuild">pnpm rebuild</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/prune">pnpm prune</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/install-test">pnpm install-test</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Review dependencies</h4><ul><li class="navListItem"><a class="navItem" href="/en/5.5/cli/audit">pnpm audit</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/list">pnpm list</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/outdated">pnpm outdated</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/why">pnpm why</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Run scripts</h4><ul><li class="navListItem"><a class="navItem" href="/en/5.5/cli/run">pnpm run</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/test">pnpm test</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/start">pnpm start</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/stop">pnpm stop</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Misc.</h4><ul><li class="navListItem"><a class="navItem" href="/en/5.5/cli/publish">pnpm publish</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/recursive">pnpm recursive</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/server">pnpm server</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/cli/store">pnpm store</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/en/5.5/package_json">package.json</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/npmrc">.npmrc</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/pnpm-workspace_yaml">pnpm-workspace.yaml</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/pnpmfile">pnpmfile.js</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Features<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/en/5.5/workspaces">Workspace</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/aliases">Aliases</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/completion">Command line tab-completion</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Recipes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/en/5.5/using-changesets">Using Changesets with pnpm</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/continuous-integration">Continuous Integration</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/only-allow-pnpm">Only allow pnpm</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/en/5.5/logos">Logos</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/benchmark">Benchmark</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/limitations">Limitations</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/about-package-store">About the package store</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/symlinked-node-modules-structure">Symlinked `node_modules` structure</a></li><li class="navListItem"><a class="navItem" href="/en/5.5/how-peers-are-resolved">How peers are resolved</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/pnpm/pnpm.github.io/edit/source/docs/workspaces.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Workspace</h1></header><article><div><span><p>pnpm has built-in support for monorepos (a.k.a. multi-package repositories,
multi-project repositories, or monolithic repositories). You can create a
workspace to unite multiple projects inside a single repository.</p>
<p>A workspace must have a <a href="pnpm-workspace_yaml">pnpm-workspace.yaml</a> file in
its root. A workspace also may have a <a href="npmrc">.npmrc</a> in its root.</p>
<h2><a class="anchor" aria-hidden="true" id="workspace-ranges-workspace"></a><a href="#workspace-ranges-workspace" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Workspace ranges (workspace:)</h2>
<p>Supported since v3.7.0.</p>
<p>By default, pnpm will link packages from the workspace if the available packages match
the declared ranges. For instance, <code>foo@1.0.0</code> is linked into <code>bar</code> if <code>bar</code> has <code>&quot;foo&quot;: &quot;^1.0.0&quot;</code> in dependencies.
But if <code>bar</code> has <code>&quot;foo&quot;: &quot;2.0.0&quot;</code> in dependencies and <code>foo@2.0.0</code> is not in the workspace then
<code>foo@2.0.0</code> will be installed from the registry. This behavior introduces some uncertainty.</p>
<p>Luckily, pnpm supports the <code>workspace:</code> protocol (same as in Yarn v2). When this protocol is used pnpm will refuse
to resolve to anything else than a local workspace package. So if you set <code>&quot;foo&quot;: &quot;workspace:2.0.0&quot;</code> installation
will fail telling that no <code>&quot;foo@2.0.0&quot;</code> is present in the workspace.</p>
<p>This protocol is especially useful when the <a href="#link-workspace-packages">link-workspace-packages</a> config is set to <code>false</code>.
In that case, pnpm will only link packages from the workspace if the <code>workspace:</code> protocol is used.</p>
<h3><a class="anchor" aria-hidden="true" id="publishing-workspace-packages"></a><a href="#publishing-workspace-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Publishing workspace packages</h3>
<p>When a workspace package is packed into an archive (whether it's through <code>pnpm pack</code> or one of the publish commands like <code>pnpm publish</code>), we dynamically replace any <code>workspace:</code> dependency by:</p>
<ul>
<li>The corresponding version in the target workspace (if you use <code>*</code>)</li>
<li>The associated semver range (for any other range type)</li>
</ul>
<p>So for example, if we assume we have three workspace packages whose current version is <code>1.5.0</code>, the following:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"dependencies"</span>: {
    <span class="hljs-attr">"foo"</span>: <span class="hljs-string">"workspace:*"</span>,
    <span class="hljs-attr">"bar"</span>: <span class="hljs-string">"workspace:^1.2.3"</span>
  }
}
</code></pre>
<p>Will be transformed into:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"dependencies"</span>: {
    <span class="hljs-attr">"foo"</span>: <span class="hljs-string">"1.5.0"</span>,
    <span class="hljs-attr">"bar"</span>: <span class="hljs-string">"^1.2.3"</span>
  }
}
</code></pre>
<p>This feature allows you to not have to depend on something else than your local workspace packages, while still being able to publish the resulting packages to the remote registry without having to run intermediary publish steps - your consumers will be able to use your published workspaces as any other package, still benefiting from the guarantees semver offers.</p>
<h2><a class="anchor" aria-hidden="true" id="release-workflow"></a><a href="#release-workflow" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Release workflow</h2>
<p>Versioning packages inside a workspace is a complex task and pnpm currently does not provide a built-in solution for it.
However, there are 2 well tested tools that handle versioning and support pnpm: <a href="https://github.com/atlassian/changesets">changesets</a> and <a href="https://rushjs.io/">Rush</a>.</p>
<p>For how to set up a repository, using Rush, read <a href="https://rushjs.io/pages/maintainer/setup_new_repo/">this page</a>.</p>
<p>For using Changesets with pnpm, read <a href="using-changesets">this recipe</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h2>
<h3><a class="anchor" aria-hidden="true" id="link-workspace-packages"></a><a href="#link-workspace-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>link-workspace-packages</h3>
<p>Added in: v2.14.0</p>
<ul>
<li>Default: <strong>true</strong></li>
<li>Type: <strong>true</strong>, <strong>false</strong>, <strong>deep</strong></li>
</ul>
<p>When <code>true</code>, locally available packages are linked to <code>node_modules</code> instead of being downloaded from the registry.
This is very convenient in a monorepo. If you need local packages also be linked to subdependencies, you can use the <code>deep</code> setting (since v5).</p>
<p>When <code>false</code>, packages are downloaded and installed from the registry. However, workspace packages can still be linked by using the <code>workspace:</code> range protocol. e.g. <code>pnpm add batman@workspace:*</code></p>
<h4><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h4>
<p>Create a <code>.npmrc</code> file in the root of your monorepo with the following content:</p>
<pre><code class="hljs"><span class="hljs-attr">link-workspace-packages</span> = <span class="hljs-literal">true</span>
</code></pre>
<p>Create a <code>pnpm-workspace.yaml</code> file with the following content:</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">packages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">'**'</span>
</code></pre>
<p>Run <code>pnpm recursive install</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="shared-workspace-lockfile"></a><a href="#shared-workspace-lockfile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>shared-workspace-lockfile</h3>
<p>Added in: v2.17.0 (initially named <code>shared-workspace-shrinkwrap</code>)</p>
<ul>
<li>Default: <strong>true</strong></li>
<li>Type: <strong>Boolean</strong></li>
</ul>
<p>When <code>true</code>, pnpm creates a single <code>pnpm-lock.yaml</code> file in the root of the workspace (in the directory that contains the <code>pnpm-workspace.yaml</code> file).
A shared lockfile also means that all dependencies of all workspace packages will be in a single <code>node_modules</code>.</p>
<p>Advantages of this option:</p>
<ul>
<li>every dependency is a singleton</li>
<li>faster installations in a monorepo</li>
<li>fewer changes in code reviews</li>
</ul>
<p><strong>NOTE:</strong> even though all the dependencies will be hard linked into the root <code>node_modules</code>, packages will have access only to those dependencies
that are declared in their <code>package.json</code>. So pnpm's strictness is preserved.</p>
<h3><a class="anchor" aria-hidden="true" id="save-workspace-protocol"></a><a href="#save-workspace-protocol" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>save-workspace-protocol</h3>
<ul>
<li>Default: <strong>true</strong></li>
<li>Type: <strong>Boolean</strong></li>
</ul>
<p>When true, new dependencies will be added with the workspace protocol, if they are present in the workspace.</p>
<p>You might want to change this setting to <code>false</code>, if the tooling in your repository does not understand the workspace protocol.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/en/5.5/pnpmfile"><span class="arrow-prev">← </span><span>pnpmfile.js</span></a><a class="docs-next button" href="/en/5.5/aliases"><span>Aliases</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#workspace-ranges-workspace">Workspace ranges (workspace:)</a><ul class="toc-headings"><li><a href="#publishing-workspace-packages">Publishing workspace packages</a></li></ul></li><li><a href="#release-workflow">Release workflow</a></li><li><a href="#options">Options</a><ul class="toc-headings"><li><a href="#link-workspace-packages">link-workspace-packages</a></li><li><a href="#shared-workspace-lockfile">shared-workspace-lockfile</a></li><li><a href="#save-workspace-protocol">save-workspace-protocol</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/pnpm-light.svg" alt="pnpm" width="66" height="58"/></a><div><h5>Docs</h5><a href="/en/installation.html">Getting Started</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/pnpm" target="_blank">Stack Overflow</a><a href="https://bit.ly/pnpm-discord-invite">Project Chat</a><a href="https://twitter.com/pnpmjs" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog/">Blog</a><a href="https://github.com/pnpm/pnpm">GitHub</a><a class="github-button" href="https://github.com/pnpm/pnpm" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '802b1d6ee5450a4296581a8e14aff417',
                indexName: 'pnpm',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en","version:5.5"]}
              });
            </script></body></html>