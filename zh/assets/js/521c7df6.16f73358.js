(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{185:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return s}));var r=n(3),o=n(8),a=(n(0),n(394)),i={id:"motivation",title:"\u52a8\u673a"},c={unversionedId:"motivation",id:"motivation",isDocsHomePage:!1,title:"\u52a8\u673a",description:"Saving disk space and boosting installation speed",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/motivation.md",slug:"/motivation",permalink:"/zh/next/motivation",editUrl:"https://crowdin.com/project/pnpm/zh-CN",version:"current",sidebar:"docs",next:{title:"\u5b89\u88c5",permalink:"/zh/next/installation"}},l=[{value:"Saving disk space and boosting installation speed",id:"saving-disk-space-and-boosting-installation-speed",children:[]},{value:"Creating a non-flat node_modules directory",id:"creating-a-non-flat-node_modules-directory",children:[]}],d={toc:l};function s(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"saving-disk-space-and-boosting-installation-speed"},"Saving disk space and boosting installation speed"),Object(a.b)("p",null,"\u5728\u4f7f\u7528 npm \u6216 Yarn \u65f6\uff0c\u5982\u679c\u4f60\u6709100\u4e2a\u9879\u76ee\u4f7f\u7528\u4e86\u4f9d\u8d56\uff08dependency\uff09\uff0c\u4f60\u5c31\u4f1a\u5728\u786c\u76d8\u4e0a\u5b58\u50a8100\u4e2a\u4f9d\u8d56\u7684\u526f\u672c\u3002 With pnpm, the dependency will be stored in a content-addressable store, so:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"\u5982\u679c\u4f60\u4f9d\u8d56\u4e8e\u4e0d\u540c\u7248\u672c\u7684\u4f9d\u8d56\uff08dependency\uff09\uff0c\u90a3\u4e48\u53ea\u9700\u5c06\u5dee\u5f02\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u5b58\u50a8\u4e2d\u5fc3\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u5b83\u6709100\u4e2a\u6587\u4ef6\uff0c\u800c\u65b0\u7248\u672c\u53ea\u6539\u53d8\u4e86\u5176\u4e2d1\u4e2a\u6587\u4ef6\u3002\u90a3\u4e48 ",Object(a.b)("inlineCode",{parentName:"li"},"pnpm update")," \u53ea\u4f1a\u5411\u5b58\u50a8\u4e2d\u5fc3\u6dfb\u52a01\u4e2a\u65b0\u6587\u4ef6\uff0c\u4e0d\u4f1a\u4ec5\u4ec5\u56e0\u4e3a\u5355\u4e00\u7684\u6539\u53d8\u800c\u514b\u9686\u6574\u4e2a\u4f9d\u8d56\u3002"),Object(a.b)("li",{parentName:"ol"},"\u6240\u6709\u6587\u4ef6\u90fd\u4f1a\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\u7684\u540c\u4e00\u4f4d\u7f6e\u3002 \u5f53\u591a\u4e2a\u5305\uff08package\uff09\u88ab\u5b89\u88c5\u65f6\uff0c\u6240\u6709\u6587\u4ef6\u90fd\u4f1a\u4ece\u540c\u4e00\u4f4d\u7f6e\u521b\u5efa\u786c\u94fe\u63a5\uff0c\u4e0d\u4f1a\u5360\u7528\u989d\u5916\u7684\u78c1\u76d8\u7a7a\u95f4\u3002 \u8fd9\u5141\u8bb8\u4f60\u8de8\u9879\u76ee\u5730\u5171\u4eab\u540c\u4e00\u7248\u672c\u7684\u4f9d\u8d56\u3002")),Object(a.b)("p",null,"\u6700\u7ec8\u4f60\u8282\u7701\u4e86\u5927\u91cf\u4e0e\u9879\u76ee\u548c\u4f9d\u8d56\u6210\u6bd4\u4f8b\u7684\u786c\u76d8\u7a7a\u95f4\uff0c\u5e76\u4e14\u62e5\u6709\u66f4\u5feb\u7684\u5b89\u88c5\u901f\u5ea6\uff01"),Object(a.b)("h2",{id:"creating-a-non-flat-node_modules-directory"},"Creating a non-flat node_modules directory"),Object(a.b)("p",null,"When installing dependencies with npm, all packages are hoisted to the root of the modules directory. As a result, source code has access to dependencies that are not added as dependencies to the project."),Object(a.b)("p",null,"pnpm uses symlinks to add only the direct dependencies of the project into the root of the modules directory. \u5982\u679c\u4f60\u5e0c\u671b\u66f4\u591a\u5730\u4e86\u89e3 pnpm \u521b\u5efa\u7684\u72ec\u7279\u7684 ",Object(a.b)("inlineCode",{parentName:"p"},"node_modules")," \u7ed3\u6784\uff0c\u548c\u5b83\u80fd\u4e0e Node.js \u751f\u6001\u7cfb\u7edf\u826f\u597d\u517c\u5bb9\u7684\u539f\u56e0\uff0c\u8bf7\u9605\u8bfb\u6b64\u77ed\u6587\uff0c\u4ee5\u53ca\u6709\u5173\u5185\u5bb9\u53ef\u5bfb\u5740\u5b58\u50a8\u4e2d\u5fc3\u7684\u7684\u76f8\u5173\u6587\u6863\uff1a"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"/blog/2020/05/27/flat-node-modules-is-not-the-only-way"},"\u6241\u5e73\u7684 node_modules \u4e0d\u662f\u552f\u4e00\u7684\u65cb\u8f6c")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"/zh/next/symlinked-node-modules-structure"},"\u57fa\u4e8e\u7b26\u53f7\u94fe\u63a5\u7684 node_modules \u7ed3\u6784"))))}s.isMDXComponent=!0},394:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=o.a.createContext({}),s=function(e){var t=o.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=s(e.components);return o.a.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),b=r,m=p["".concat(i,".").concat(b)]||p[b]||u[b]||a;return n?o.a.createElement(m,c(c({ref:t},d),{},{components:n})):o.a.createElement(m,c({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var d=2;d<a;d++)i[d]=n[d];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);